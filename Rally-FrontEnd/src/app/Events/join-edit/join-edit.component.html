<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>join-edit</title>
      </head>


<body>
    <div class="container">

        <div *ngIf="logInStatus; else notLoggedIn">
            <div style="text-align: right;  display: flex; justify-content:space-between;">
                <p style="font-weight: bolder;">Welcome, {{currentUser}}!</p>
                <button (click)="logOut()"> Log Out?</button>
            </div>       
        </div>
        
        
        <ng-template #notLoggedIn>
            <p style="text-align: left;"><span><a routerLink="/login" routerLinkActive="active" (click)="logInStatus = false">
                Login</a></span> to <span style="font-family: impact; font-size: 15px;">rally!</span> your community</p>
        </ng-template>


            <div id="list_head">
                <!-- <p>Join Update:  {{event?.eventTitle}}</p>  -->
                <p>Join Update</p> 
            </div>
        
            <br>
            <br>
           
                   
                <form #joinEventInformation="ngForm" (ngSubmit)="updateJoin(joinEventInformation)">

                    <div class="row">
                        <div class="col-5">

                            <input type="hidden" id="id" name="joinEventId" value="joinEvent.id" ngModel>

                            <!-- <input type="hidden"[(ngModel)]="join.event" id="event" name="event" value="event" ngModel> -->
                            
                            <div class="mb-3">
                            <label class="form-label">name</label><br>
                            <input class="form-control form-control-lg" type="text" required [(ngModel)]="join.attending" id="attending" name="attending" ngModel>
                             
                            <br>
                            <label class="form-label">email</label><br>
                            <input class="form-control form-control-lg" type="text" required [(ngModel)]="join.contactEmail" id="email" name="contactEmail" ngModel>
            
                            <br>
                            <label class="form-label">number attending</label><br>
                            <input class="form-control form-control-lg" type="number" required [(ngModel)]="join.numAttending" id="numAttending" name="numAttending" ngModel>
            
                            <br>    
                            <label class="form-label">add comment (optional)</label><br>
                            <textarea class="form-control" rows="5" [(ngModel)]="join.comment" id=comment name="comment" ngModel></textarea>
                                   
                            <br>
                            <br>
                           
                            <button [disabled]="joinEventInformation.invalid" type="submit" id="join_btn">SUBMIT</button>
                            <br>
                                <div *ngIf="joinEventInformation.invalid && joinEventInformation.touched" class="alert alert-danger">
                                    Make sure you've filled out the whole form!
                                </div>


                            </div>
                        </div>
                    </div>
 
                    </form>
               
                <div class="row">

                    <!-- <div class="col-7"></div> -->

                    <div class="col-5">

                        <button type="button" (click)="deleteJoin()" id="edit_btn" style="background-color: #C03E24; float: left;">DELETE</button>
                    </div>

                </div>


    </div>
</body>
</html>
