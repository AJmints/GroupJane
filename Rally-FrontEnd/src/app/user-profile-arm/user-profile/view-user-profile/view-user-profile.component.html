<div *ngIf="userReal; else fourOFour"></div>

<ng-template #fourOFour>
<h1 style="color: crimson;">404 USER NOT FOUND</h1>
</ng-template>
<div *ngIf="logInStatus"> 
    <div style="text-align: right;">
        <button style="background-color: #85CDE3;"><a routerLink="/search" routerLinkActive="active">Search</a></button>
        <button style="background-color: #85CDE3;" (click)="logOut()">Log Out</button>
    </div>
</div>
<br>

<div class="row">
<div class="col-sm-3">
    <div class="card"style="background-color: #0EBB9A;">
        <h4>Viewing {{ this?.viewUserName }}'s Profile</h4>
        <div class="card" style="align-content: center;" *ngIf="dbImage; else default">               
            <img [src]="dbImage" width="100%" height="auto">
        </div>
        <ng-template #default>
            <img src="/assets/user-profile-assets/profile-pic.gif" width="100%" height="auto">
        </ng-template>
        </div> 
    </div>
    <div class="col-sm-9">
        <div class="card" style="background-color: #0EBB9A;">
            <h4>Direct Messaging: <br>{{ viewUserName }}</h4>
                <div #dmBottomOfScroll class="scroll">     
                <table style="width: 100%;" *ngFor="let dm of conversation">
                    <br>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                    <td class="card" style="background-color: #F9A605">
                        <tr style="background-color: #F9A605">Sent: <br>{{dm.sentByUserName}}</tr> 
                    </td>
                    <td>
                        <tr class="thought">Message: <br>{{ dm.messageContent }}</tr> 
                    </td>
                    <td class="card" style="background-color: #F9A605">
                        <tr style="background-color: #F9A605">Recieved: <br>{{ dm.receivedByUserName}}</tr>
                    </td>
                    <br><br>
                </table>
                <form #dmMessageDetails="ngForm" (ngSubmit)="viewingUserSendDM(dmMessageDetails)">
                    <div class="card" style="align-items: center; background-color: rgb(126, 161, 154);">
                        <h3>Respond: </h3>
                        <textarea rows="3" cols="40" type="text" name="messageContent" [(ngModel)]="commentBox"></textarea> 
                    <br>
                    <div *ngIf="dmCharacters; else lengthError"></div>
                    <input style="background-color: #85CDE3;" type="submit" value="Send Message">    
                    <ng-template #lengthError>
                        <h6 style="color:crimson;">Minimum of 3 characters required.</h6>
                    </ng-template>
                    </div>
                </form>
                
            </div>
        </div>
    </div>


<div class="row">
    <div class="col">
        <div class="card" style="background-color: #0EBB9A;">
            <h2>UserDetails</h2>

            <div class="card" style="background-color: #ecdfc3;">
                <br> 
                <label>First Name: <h4>{{ userEntityInformation?.viewUserInformation?.firstName }}</h4></label>
                <br>
                <label>Last Name: <h4>{{ userEntityInformation?.viewUserInformation?.lastName }}</h4></label>
                <br>
                <label>Neighborhood: <h4>{{ userEntityInformation?.viewUserInformation?.neighborhood }}</h4></label>
                <br>
                <label>City: <h4>{{ userEntityInformation?.viewUserInformation?.city }}</h4></label>
                <br>       
                <label>State: <h4>{{ userEntityInformation?.viewUserInformation?.state }}</h4></label>                     
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="card" style="background-color: #0EBB9A;">
            <h2>Post History</h2>
            <div class="scroll-posthistory">
            <ul *ngFor="let post of forumPost">
                <div *ngIf="post.hidden === false">
                <div *ngIf="post.type === 'ForumPost'">
                <div class="card" style="background-color: #F9A605">
                    <h6>{{ post.type }}</h6>
                <div class="card" style="background-color: #ecdfc3;">                        
                    <h3><a routerLink='/forum/post/{{post.id}}' routerLinkActive="active">{{ post.title }}</a></h3>
                    <h6>{{ post.description }}</h6>
                </div>
                </div> 
                </div>
                <div *ngIf="post.type === 'Event'">
                    <div class="card" style="background-color: #F9A605">
                    <h6>{{ post.type }}</h6>
                <div class="card" style="background-color: #ecdfc3;">                        
                    <h3>{{ post.title }}</h3>
                    <h6>{{ post.description }}</h6>
                </div>
                </div> 
                </div>
            </div>
            </ul>
        </div>
        </div>
    </div>
    <div class="col">
        <div class="card" style="background-color: #0EBB9A;">
            <h2>Favorites</h2>
        </div>
    </div>
</div>
